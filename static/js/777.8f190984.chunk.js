"use strict";(self.webpackChunkreact_dev_to=self.webpackChunkreact_dev_to||[]).push([[777],{201:(e,s,a)=>{a.d(s,{A:()=>t});const t=e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).trim()},158:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(43),r=a(384),o=a(216),l=a(34),n=a(337),c=a(416),i=a(843),d=a(899),m=a(892),u=a(656),p=a(579);const x=()=>{const{addToastr:e}=(0,n.A)(),s=(0,o.Zp)(),a=localStorage.getItem("accessToken"),x=d.Ik().shape({username:d.Yj().required("Username is required"),password:d.Yj().required("Password is required")});return t.useEffect((()=>{a&&s("/")}),[a,s]),(0,p.jsxs)("div",{"aria-roledescription":"login",className:"h-full flex flex-col gap-5 justify-center items-center bg-gray-50",children:[(0,p.jsx)("img",{src:"https://img.logoipsum.com/262.svg",alt:"Logo"}),(0,p.jsx)("h1",{className:"text-3xl font-medium",children:"Sign in to your account"}),(0,p.jsx)("div",{className:"w-full max-w-96 border rounded p-5 shadow-sm bg-white",children:(0,p.jsx)(m.l1,{initialValues:{username:"kminchelle",password:"0lelplR"},validationSchema:x,onSubmit:a=>{let{username:t,password:o}=a;r.A.post("auth/login",{username:t,password:o}).then((a=>{localStorage.setItem("accessToken",a.data.token),e({variant:"success",message:"Welcome ".concat(a.data.firstName," ").concat(a.data.lastName,"!")}),s("/")})).catch((e=>{var s;c.A.store.dispatch(i.A.actions.add({message:null===(s=e.response)||void 0===s?void 0:s.data.message,variant:"danger"}))}))},enableReinitialize:!0,children:e=>{let{errors:s,values:a}=e;return console.log(s,a),(0,p.jsxs)(m.lV,{className:"flex flex-col gap-5",children:[(0,p.jsx)(u.A,{fieldName:"username",required:!0}),(0,p.jsx)(u.A,{fieldName:"password",type:"password",required:!0}),(0,p.jsx)(l.A,{text:"Login",type:"submit"})]})}})})]})},f=t.memo(x)},34:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(43),r=a(964),o=a(579);const l=e=>{let{className:s,onClick:a,text:l,variant:n="primary",type:c="button",isButtonBordered:i}=e;const d="".concat(i?"":"text-white"," font-bold py-2 px-4 rounded transition-colors"),m=t.useRef("".concat(d," ").concat(s||"")),[u,p]=t.useState((0,r.A)(n,m.current,!1,i));return t.useEffect((()=>{p((0,r.A)(n,m.current,!1,i))}),[n,m,i]),(0,o.jsx)("button",{className:u,type:c,onClick:a,children:l})},n=t.memo(l)},656:(e,s,a)=>{a.d(s,{A:()=>c});var t=a(43),r=a(892),o=a(201),l=a(579);const n=e=>{let{fieldName:s,type:a="text",...n}=e;const c=(0,r.j7)(),[i,d]=t.useState(c.errors[s]);return t.useEffect((()=>{d(c.errors[s])}),[c,s]),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("label",{htmlFor:s,children:[(0,o.A)(s)," ",n.required?(0,l.jsx)("span",{className:"text-red-500",children:"*"}):null," "]}),(0,l.jsx)(r.D0,{type:a,id:s,name:s,className:"formik-field ".concat(i?"ring-red-500":"ring-gray-300"),...n}),(0,l.jsx)(r.Kw,{component:"span",className:"text-red-500 text-xs",name:s})]})},c=t.memo(n)}}]);
//# sourceMappingURL=777.8f190984.chunk.js.map