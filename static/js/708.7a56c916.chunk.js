"use strict";(self.webpackChunkreact_dev_to=self.webpackChunkreact_dev_to||[]).push([[708],{708:(e,s,l)=>{l.r(s),l.d(s,{default:()=>A});var a=l(43),i=l(593),r=l(453),t=l(34),n=l(25),d=l(530),c=l(892);const o=e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).trim();var m=l(579);const x=e=>{let{fieldName:s,type:l="text",...i}=e;const r=(0,c.j7)(),[t,n]=a.useState(r.errors[s]);return a.useEffect((()=>{n(r.errors[s])}),[r,s]),(0,m.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,m.jsx)("label",{htmlFor:s,children:o(s)}),(0,m.jsx)(c.D0,{type:l,id:s,name:s,className:"formik-field ".concat(t?"ring-red-500":"ring-gray-300"),...i}),(0,m.jsx)(c.Kw,{component:"span",className:"text-red-500 text-xs",name:s})]})},u=a.memo(x),f=e=>{let{fieldName:s,options:l,...i}=e;const r=(0,c.j7)(),[t,n]=a.useState(r.errors[s]);return a.useEffect((()=>{n(r.errors[s])}),[r,s]),(0,m.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,m.jsx)("label",{htmlFor:s,children:o(s)}),(0,m.jsx)(c.D0,{className:"formik-field ".concat(t?"ring-red-500":"ring-gray-300"),as:"select",name:s,id:s,...i,children:l.map((e=>{let{value:s,label:l}=e;return(0,m.jsx)("option",{value:s,children:l},s)}))}),(0,m.jsx)(c.Kw,{component:"span",className:"text-red-500 text-xs",name:s})]})},j=a.memo(f);var h=l(899);const p=e=>{let{updateField:s,onSubmit:l}=e;const{user:a}=(0,r.A)(),i=h.Ik({username:h.Yj().required("Username is required"),firstName:h.Yj().required("First name is required"),lastName:h.Yj().required("Last name is required"),gender:h.Yj().required("Gender is required"),email:h.Yj().email("Email is not valid").required("Email is required")}),n={username:(null===a||void 0===a?void 0:a.username)||"",firstName:(null===a||void 0===a?void 0:a.firstName)||"",lastName:(null===a||void 0===a?void 0:a.lastName)||"",gender:(null===a||void 0===a?void 0:a.gender)||"",email:(null===a||void 0===a?void 0:a.email)||""};return(0,m.jsx)("div",{"aria-roledescription":"user update",children:(0,m.jsx)("div",{className:"p-5",children:(0,m.jsx)(c.l1,{initialValues:n,validationSchema:i,onSubmit:l,enableReinitialize:!0,children:(0,m.jsxs)(c.lV,{className:"flex flex-col gap-5",children:[v(s,"username"),v(s,"firstName"),v(s,"lastName"),v(s,"gender"),v(s,"email"),(0,m.jsx)(t.A,{text:"Update",type:"submit"})]})})})})},v=(e,s)=>e!==s?null:"gender"===s?(0,m.jsx)(j,{fieldName:s,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}]}):(0,m.jsx)(u,{fieldName:s}),N=a.memo(p);var g=l(337);const y=()=>{const{addToastr:e}=(0,g.A)(),[s,l]=a.useState(),c=a.useRef(null),{user:o}=(0,r.A)(),x=e=>{var s;l(e),null===(s=c.current)||void 0===s||s.showModal()};return(0,m.jsxs)("div",{"aria-roledescription":"profile",className:"h-full",children:[(0,m.jsx)(i.A,{title:"Home",subtitle:"View and edit your profile"}),(0,m.jsxs)("div",{className:"px-5 pt-10 flex items-start gap-20 h-[calc(100%-64px)] overflow-auto",children:[(0,m.jsxs)("div",{className:"flex items-center gap-5",children:[(0,m.jsx)("img",{src:null===o||void 0===o?void 0:o.image,alt:"",className:"w-24 h-24 rounded-full p-0.5 ring-4 ring-gray-300"}),(0,m.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,m.jsx)(t.A,{text:"Change Avatar"}),(0,m.jsx)("p",{children:"JPG, GIF or PNG. 1MB max."})]})]}),(0,m.jsxs)("ul",{className:"divide-y-2 flex-1",children:[(0,m.jsxs)("li",{className:"flex items-center py-1",children:[(0,m.jsx)("span",{className:"min-w-96 font-medium",children:"Firstname:"}),(0,m.jsx)("span",{className:"flex-1",children:null===o||void 0===o?void 0:o.firstName}),(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)(t.A,{text:"Edit",isButtonBordered:!0,onClick:()=>x("firstName")})})]}),(0,m.jsxs)("li",{className:"flex items-center py-1",children:[(0,m.jsx)("span",{className:"min-w-96 font-medium",children:"Lastname:"}),(0,m.jsx)("span",{className:"flex-1",children:null===o||void 0===o?void 0:o.lastName}),(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)(t.A,{text:"Edit",isButtonBordered:!0,onClick:()=>x("lastName")})})]}),(0,m.jsxs)("li",{className:"flex items-center py-1",children:[(0,m.jsx)("span",{className:"min-w-96 font-medium",children:"Email:"}),(0,m.jsx)("span",{className:"flex-1",children:null===o||void 0===o?void 0:o.email}),(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)(t.A,{text:"Edit",isButtonBordered:!0,onClick:()=>x("email")})})]}),(0,m.jsxs)("li",{className:"flex items-center py-1",children:[(0,m.jsx)("span",{className:"min-w-96 font-medium",children:"Username:"}),(0,m.jsx)("span",{className:"flex-1",children:null===o||void 0===o?void 0:o.username}),(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)(t.A,{text:"Edit",isButtonBordered:!0,onClick:()=>x("username")})})]}),(0,m.jsxs)("li",{className:"flex items-center py-1",children:[(0,m.jsx)("span",{className:"min-w-96 font-medium",children:"Gender:"}),(0,m.jsx)("span",{className:"flex-1",children:null===o||void 0===o?void 0:o.gender}),(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsx)(t.A,{text:"Edit",isButtonBordered:!0,onClick:()=>x("gender")})})]}),(0,m.jsxs)("li",{className:" py-5 flex items-start",children:[(0,m.jsxs)("div",{className:"w-96 pr-5",children:[(0,m.jsx)("h3",{className:"text-base font-medium",children:"Suspend Account"}),(0,m.jsx)("p",{className:"text-gray-600 italic",children:"You can temporarily suspend your account here."})]}),(0,m.jsx)("div",{className:"flex flex-col gap-2",children:(0,m.jsx)(t.A,{text:"Suspend my account",variant:"warning"})})]}),(0,m.jsx)("li",{children:(0,m.jsxs)("div",{className:" py-5 flex items-start",children:[(0,m.jsxs)("div",{className:"w-96 pr-5",children:[(0,m.jsx)("h3",{className:"text-base font-medium",children:"Delete Account"}),(0,m.jsx)("p",{className:"text-gray-600 italic",children:"No longer want to use our service? You can delete your account here. This action is not reversible. All information related to this account will be deleted permanently."})]}),(0,m.jsx)("div",{className:"flex flex-col gap-2",children:(0,m.jsx)(t.A,{text:"Delete my account",variant:"danger"})})]})})]})]}),(0,m.jsxs)("dialog",{ref:c,className:"rounded w-96 shadow-2xl ring-1 ring-gray-300",children:[(0,m.jsxs)("header",{className:"flex items-center justify-between p-3 border-b",children:[(0,m.jsx)("span",{className:"font-medium text-base",children:"Update Profile"}),(0,m.jsx)(n.A,{variant:"danger",onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.close()},children:(0,m.jsx)(d.A,{className:"w-3 h-3"})})]}),(0,m.jsx)(N,{updateField:s,onSubmit:s=>{var l;console.log(s),e({variant:"success",message:"Profile updated successfully"}),null===(l=c.current)||void 0===l||l.close()}})]})]})},A=a.memo(y)},593:(e,s,l)=>{l.d(s,{A:()=>t});var a=l(43),i=l(579);const r=e=>{let{title:s,subtitle:l}=e;return(0,i.jsxs)("div",{className:"p-2 shadow-md","aria-roledescription":"section-heading",children:[(0,i.jsx)("h1",{className:"text-lg font-medium",children:s}),l&&(0,i.jsx)("h2",{className:"text-gray-600 italic",children:l})]})},t=a.memo(r)},34:(e,s,l)=>{l.d(s,{A:()=>n});var a=l(43),i=l(964),r=l(579);const t=e=>{let{className:s,onClick:l,text:t,variant:n="primary",type:d="button",isButtonBordered:c}=e;const o="".concat(c?"":"text-white"," font-bold py-2 px-4 rounded transition-colors"),m=a.useRef("".concat(o," ").concat(s||"")),[x,u]=a.useState((0,i.A)(n,m.current,!1,c));return a.useEffect((()=>{u((0,i.A)(n,m.current,!1,c))}),[n,m,c]),(0,r.jsx)("button",{className:x,type:d,onClick:l,children:t})},n=a.memo(t)},453:(e,s,l)=>{l.d(s,{A:()=>r});var a=l(416),i=l(603);const r=()=>{const e=a.A.useAppDispatch();return{user:a.A.useAppSelector(i.A.select.user),setUser:()=>{e(i.A.fetchUser())},resetUserStore:()=>{e(i.A.actions.reset())}}}}}]);
//# sourceMappingURL=708.7a56c916.chunk.js.map